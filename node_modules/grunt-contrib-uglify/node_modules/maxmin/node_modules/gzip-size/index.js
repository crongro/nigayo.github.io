'use strict';
var gzip = require('zlib').gzip;
var gzipSync = require('zlib-browserify').gzipSync;

module.exports = function (str, cb) {
	if (!str) {
<<<<<<< HEAD
		return cb(err, 0);
	}

	gzip(str, function (err, data) {
		if (err) {
			return cb(err, 0);
		}

=======
		return cb(0);
	}

	gzip(str, function (err, data) {
>>>>>>> 72ab91f2403477d2bd7e392e1571e6f8d189a1be
		cb(err, data.length);
	});
};

module.exports.sync = function (str) {
	return gzipSync(str).length;
};
